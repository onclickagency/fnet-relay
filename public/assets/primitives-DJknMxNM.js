import{a as e,i as t,n,r}from"./fnet.config-CBN-JNau.js";const i={id:`empty`,tags:[`sugar`],settings:[{id:`typeId`,type:`string`,role:`setting`,shape:`FnetSettingSelectEmpty`}]},a={id:`add`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`input1`,type:`number`,role:`input`},{id:`input2`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`input1`),r=e(`input2`);t(`output`,n+r)}},o={id:`subtract`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,(e(`a`)??0)-(e(`b`)??0))}},s={id:`multiply`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,(e(`a`)??0)*(e(`b`)??0))}},c={id:`divide`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`b`);t(`output`,n===0?null:(e(`a`)??0)/n)}},l={id:`power`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,(e(`a`)??0)**+(e(`b`)??0))}},u={id:`modulo`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`b`)??1;t(`output`,(e(`a`)??0)%n)}},d={id:`abs`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.abs(e(`a`)??0))}},f={id:`sin`,tags:[`math`,`trig`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.sin(e(`a`)??0))}},p={id:`cos`,tags:[`math`,`trig`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.cos(e(`a`)??0))}},m={id:`tan`,tags:[`math`,`trig`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.tan(e(`a`)??0))}},h={id:`random`,tags:[`math`,`random`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`min`,type:`number`,role:`input`},{id:`max`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`min`)??0,r=e(`max`)??1;t(`output`,Math.random()*(r-n)+n)}},g={id:`round`,tags:[`math`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.round(e(`a`)??0))}},_={id:`floor`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.floor(e(`a`)??0))}},v={id:`ceil`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.ceil(e(`a`)??0))}},y={id:`sqrt`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.sqrt(e(`a`)??0))}},b={id:`exp`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.exp(e(`a`)??0))}},x={id:`log`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`a`);t(`output`,n>0?Math.log(n):null)}},S={id:`log10`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`a`);t(`output`,n>0?Math.log10(n):null)}},C={id:`min`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.min(e(`a`)??0,e(`b`)??0))}},w={id:`max`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.max(e(`a`)??0,e(`b`)??0))}},T={id:`clamp`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`value`,type:`number`,role:`input`},{id:`min`,type:`number`,role:`input`},{id:`max`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`value`)??0,r=e(`min`)??0,i=e(`max`)??1;t(`output`,Math.min(Math.max(n,r),i))}},E={id:`average`,tags:[`math`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`b`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,((e(`a`)??0)+(e(`b`)??0))/2)}},D={id:`asin`,tags:[`math`,`trig`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.asin(e(`a`)??0))}},O={id:`acos`,tags:[`math`,`trig`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.acos(e(`a`)??0))}},k={id:`atan`,tags:[`math`,`trig`],settings:[{id:`output`,type:`number`,role:`output`},{id:`a`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.atan(e(`a`)??0))}},A={id:`atan2`,tags:[`math`,`trig`],settings:[{id:`output`,type:`number`,role:`output`},{id:`y`,type:`number`,role:`input`},{id:`x`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,Math.atan2(e(`y`)??0,e(`x`)??0))}},j={id:`deg2rad`,tags:[`math`,`conversion`],settings:[{id:`output`,type:`number`,role:`output`},{id:`degrees`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,(e(`degrees`)??0)*(Math.PI/180))}},M={id:`rad2deg`,tags:[`math`,`conversion`],settings:[{id:`output`,type:`number`,role:`output`},{id:`radians`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){t(`output`,(e(`radians`)??0)*(180/Math.PI))}},N={id:`mapRange`,tags:[`math`,`utility`],settings:[{id:`output`,type:`number`,role:`output`},{id:`value`,type:`number`,role:`input`},{id:`inMin`,type:`number`,role:`input`},{id:`inMax`,type:`number`,role:`input`},{id:`outMin`,type:`number`,role:`input`},{id:`outMax`,type:`number`,role:`input`},{id:`run`,type:`signal`,role:`input`}],activate({get:e,set:t}){let n=e(`value`)??0,r=e(`inMin`)??0,i=e(`inMax`)??1,a=e(`outMin`)??0,o=e(`outMax`)??1,s=(n-r)*(o-a)/(i-r)+a;t(`output`,s)}},P={id:`subGraph`,tags:[`subGraph`],shape:`FnetSubGraph`,settings:[{id:`name`,type:`string`,role:`setting`},{id:`graphId`,type:`graph`,role:`setting`,hidden:!0},{id:`run`,type:`signal`,role:`input`}],async activate({setting:e,getAll:t,setAll:n,activate:r},i){let a=t(),o=await r(e(`graphId`),i,a);n(o)},hooks:{async onAfterLoad({component:e,manager:t}){await F(e,t)},async onAfterUpdateSetting({component:e,settingId:t,manager:n}){t===`graphId`&&await F(e,n)}}};async function F(e,i){let{values:a,settings:o}=e,s=a?.programId;if(!s)return;let c=await r.getById(s,i);if(!c){console.warn(`Subgraph not found: ${s}`);return}let l=await t.getByParent(s,i),u=l.filter(e=>e.typeId===n.INPUT),d=l.filter(e=>e.typeId===n.OUTPUT);u.forEach((e,t)=>o.push({id:e.id,name:e.values?.name??`input-${t+1}`,type:e.values?.type??`any`,role:`input`})),d.forEach((e,t)=>o.push({id:e.id,name:e.values?.name??`output-${t+1}`,type:e.values?.type??`any`,role:`output`})),e.values.name=e.values.name||c.name}const I={id:`input`,tags:[`subGraph`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`type`,type:`type`,role:`setting`,shape:`FnetSettingSelectType`},{id:`output`,type:`any`,role:`output`},{id:`input`,type:`any`,role:`input`,hidden:!0},{id:`run`,type:`signal`,role:`input`,hidden:!0}],activate({set:e,get:t}){e(`output`,t(`input`))},hooks:{onInitialize(){},onAdd(){},onRemove(){},onConnect(){},onDisconnect(){},onMove(){},onValueChange(){}}},L={id:`output`,tags:[`subGraph`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`type`,type:`type`,role:`setting`,shape:`FnetSettingSelectType`},{id:`output`,type:`any`,role:`output`,hidden:!0},{id:`input`,type:`any`,role:`input`},{id:`run`,type:`signal`,role:`input`,hidden:!0}],activate({get:e,set:t}){t(`output`,e(`input`))}},R={id:`button`,shape:`FnetButton`,tags:[`interactive`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`run`,type:`signal`,role:`input`},{id:`click`,type:`signal`,role:`output`}],activate(e,t){if(t===`click`)return`run`}},z={id:`interval`,shape:`FnetInterval`,tags:[`interactive`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`start`,type:`signal`,role:`input`},{id:`stop`,type:`signal`,role:`input`},{id:`run`,type:`signal`,role:`input`},{id:`tick`,type:`signal`,role:`output`},{id:`interval`,type:`number`,role:`setting`},{id:`intervalId`,type:`number`,role:`state`}],activate({emit:e,get:t,set:n},r){switch(r){case`start`:n(`intervalId`,setInterval(()=>{e(`tick`)},1e3));return;case`stop`:clearInterval(t(`intervalId`));return;case`tick`:console.log(`firing tick event`);return}},hooks:{onBeforeStart(){},onBeforeStop(){}}};var B={async each(t){await this.db.each(e.CELLS,e=>e.where(`datasetId`).equals(this.datasetId),t)},async toArray(){let e=[];return await this.each(t=>e.push(t)),e},async column(t){let n=this.db,r=[];return await n.each(e.CELLS,e=>e.where({datasetId:this.datasetId,column:t}),e=>r.push(e.value)),r}};function V(e,t){let n=t.columns?{type:`cursor`,datasetId:t.id,columns:t.columns}:t,r=Object.create(B);return Object.assign(r,n,{db:e}),r}const H={id:`dataset`,tags:[`dataset`],settings:[{id:`name`,type:`string`,role:`setting`},{id:`datasetId`,type:`dataset`,role:`setting`},{id:`run`,type:`signal`,role:`input`},{id:`cursor`,type:`object`,role:`output`}],async activate(t,n,{db:r}){if(n!==`run`)return!1;let i=t.setting(`datasetId`);if(!i)return!1;let a=await r.getById(e.DATASETS,i);if(!a)return!1;let o=V(r,a);t.set(`cursor`,o)}},U={id:`sum`,tags:[`math`,`dataset`],settings:[{id:`cursor`,type:`object`,role:`input`},{id:`column`,type:`string`,role:`setting`,shape:`FnetSettingSelect`},{id:`run`,type:`signal`,role:`input`},{id:`result`,type:`number`,role:`output`}],async activate(e,t){if(t!==`run`)return!1;let n=e.get(`cursor`),r=e.setting(`column`);if(!n||!r)return!1;let i=(await n.column(parseInt(r))).reduce((e,t)=>e+Number(t||0),0);e.set(`result`,i)}};export{d as abs,O as acos,a as add,D as asin,k as atan,A as atan2,E as average,R as button,v as ceil,T as clamp,p as cos,V as createCursor,H as dataset,j as deg2rad,c as divide,i as empty,b as exp,_ as floor,I as input,z as interval,x as log,S as log10,N as mapRange,w as max,C as min,u as modulo,s as multiply,L as output,l as power,M as rad2deg,h as random,g as round,f as sin,y as sqrt,P as subGraph,o as subtract,U as sum,m as tan};